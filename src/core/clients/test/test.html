<!--
  ~ Copyright 2015-2024 OpenCB
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <title>Cache tests</title>
    <!--<link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-1.12.0.css" />-->
    <!--<script type="text/javascript" src="../../../vendor/underscore-min.js"></script>-->
    <script type="text/javascript" src="../../../../node_modules/backbone/backbone-min.js"></script>
    <script type="text/javascript" src="../../../../node_modules/crypto-js/crypto-js.js"></script>
    <script type="text/javascript" src="../../../../node_modules/cookies-js/src/cookies.js"></script>
    <script type="text/javascript" src="http://underscorejs.org/underscore-min.js"></script>
    <!--<script type="text/javascript" src="http://code.jquery.com/qunit/qunit-1.12.0.js"></script>-->

    <!--<script src="tests.js"></script>-->
    <!--<script src="../opencga-client-config.js"></script>-->
    <script src="../opencga/opencga-client.js"></script>
    <script src="../rest-client.js"></script>
</head>
<body>
<!--<div id="qunit"></div>-->
<!--<div id="qunit-fixture"></div>-->

<script>

    let conf = new OpenCGAClientConfig("localhost:8080/opencga");
    let client = new OpenCGAClient(conf);

    function test(then, expected) {
        console.log("ASDAS");

        let userSession;
        client.users().login("pfurio", {password: "pfurio"}).then(createProject).then(function(response2) {console.log(response2)});;


    }

    function createProject(response) {
        userSession = response.response[0].result[0];
        console.log(userSession)

        return client.projects()
                .create({name: "project1", sid: userSession.sessionId, userId: userSession.userId, description: "", alias: "proj1", organization: ""})
    }

    test();

</script>

</body>
</html>
