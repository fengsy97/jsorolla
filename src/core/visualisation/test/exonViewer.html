<!--
  ~ Copyright 2015-2024 OpenCB
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Exon viewer</title>

    <link rel="stylesheet" href="../../../../node_modules/qtip2/dist/jquery.qtip.min.css">

    <script type="text/javascript" src="../../../../node_modules/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="../../../../node_modules/qtip2/dist/jquery.qtip.min.js"></script>

    <script type="module" src="../../utils-new.js"></script>
    <script type="text/javascript" src="../../../genome-browser/feature-binary-search-tree.js"></script>
    <script type="text/javascript" src="resources/BRCA2.js"></script>

</head>

<body>

<h2>Simple transcript</h2>
<div id="transcriptDiv" style=""></div>


<script type="module">

    import {SVG} from "../../svg.js";
    import UtilsNew from "../../utils-new.js";

    import ExonViewer from "../exonViewer.js";
    let exons = [
        {
            start: 1,
            end: 100
        }, {
            start: 200,
            end: 250
        }, {
            start: 500,
            end: 800
        }];

    function render() {
        let tracks = [];
        tracks.push({
            name: "TFBS",
            type: "feature",
            data: brca2.transcripts[0].tfbs
        });
        tracks.push({
            name: "Coverage",
            type: "coverage",
            data: coverage
        });
        tracks.push({
            name: "Low coverage",
            type: "lowcoverage",
            data: lowCoverage
        });

        let exonViewer = new ExonViewer("transcriptDiv", brca2.transcripts[0].exons, tracks);
        // let exonViewer = new ExonViewer("transcriptDiv", exons);
        let svg = exonViewer.render();
        document.getElementById("transcriptDiv").appendChild(svg);
    }
    render()
</script>
</body>
</html>
